
.gitignore

CXX = @CXX@
LD = $(CXX)

OPTIMIZATION_FLAG = @OPTIMIZATION_FLAG@
ASSERTIONS_FLAG = @ASSERTIONS_FLAG@
BOOST_CPPFLAGS = @BOOST_CPPFLAGS@

READLINE_LDFLAGS = @READLINE_LDFLAGS@

CPPFLAGS = -std=c++0x -Wall -Wextra $(BOOST_CPPFLAGS) $(OPTIMIZATION_FLAG) $(ASSERTIONS_FLAG) -g -fPIC

LDFLAGS =

PRECOMPILEFLAGS = $(CPPFLAGS) -x c++-header

boost_lib_dir = /usr/local/lib
boost_lib_statement = -L $(boost_lib_dir)

png_lib_dir = /usr/local/lib
png_lib_statement = -L $(png_lib_dir)

gmp_lib_dir = /usr/local/lib
gmp_lib_statement = -L $(gmp_lib_dir)

mpfr_lib_dir = /usr/local/lib
mpfr_lib_statement = -L $(mpfr_lib_dir)

readline_lib_dir = /usr/local/lib
readline_lib_statement = -L $(readline_lib_dir)

source_dir = $(TUP_CWD)/src

INCLUDE_DIRS += $(source_dir)

BOOST_LIBS += -lboost_thread
BOOST_LIBS += -lboost_system
BOOST_LIBS += -lboost_filesystem
BOOST_LIBS += -lboost_regex
BOOST_LIBS += -lboost_program_options

BOOST_SHARED_LIBS = $(boost_lib_dir)/libboost_thread.so \
	$(boost_lib_dir)/libboost_system.so \
	$(boost_lib_dir)/libboost_filesystem.so \
	$(boost_lib_dir)/libboost_regex.so \
	$(boost_lib_dir)/libboost_program_options.so

PNG_LIBS = -lpng
PNG_SHARED_LIBS = $(png_lib_dir)/libpng.so

GMP_LIBS = -lgmp
GMP_SHARED_LIBS = $(gmp_lib_dir)/libgmp.so

MPFR_LIBS = -lmpfr
MPFR_SHARED_LIBS = $(mpfr_lib_dir)/libmpfr.so

READLINE_SHARED_LIBS = $(readline_lib_dir)/libreadline.so

LIBS = $(BOOST_LIBS) $(MPFR_LIBS) $(GMP_LIBS) $(READLINE_LDFLAGS)

SHARED_LIBS = $(BOOST_SHARED_LIBS) $(MPFR_SHARED_LIBS) $(GMP_SHARED_LIBS) $(READLINE_SHARED_LIBS)

!cxx = |> ^ CXX %f^ $(CXX) $(CPPFLAGS) -I $(INCLUDE_DIRS) -c %f -o %o |> %B.o
!linker = |> ^ LD %o^ $(LD) $(LDFLAGS) %f $(LIBS) -o %o |>
!preCompile = |> $(CXX) %f $(PRECOMPILEFLAGS) -I $(INCLUDE_DIRS) -o %o |> %b.pch

